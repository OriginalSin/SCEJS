<html>
	<head>
		<title>SCEJS NeuronalNetwork</title>
		<meta http-equiv="content-type" content="text/html; charset=utf-8">
		
		<script src="../../SCEJS/SCE.class.js"></script>

		<script src="../../SCEJS/Prefabs/SimpleCamera/SimpleCamera.class.js"></script>

		<script src="../../SCEJS/Prefabs/Grid/VFP_GRID.class.js"></script>
		<script src="../../SCEJS/Prefabs/Grid/Grid.class.js"></script>

		<script src="../../SCEJS/Prefabs/Graph/Graph.class.js"></script>
	</head>

	<body>
		<div id="SCEJS"></div>
		<br />
        <div id="SCEJSB"></div>

		<script>
			var sce = new SCE();
			sce.initialize({"target": document.getElementById("SCEJS"),
							"dimensions": {"width": 256, "height": 256}});


			var project = new Project();
			sce.loadProject(project);

			var stage = new Stage();
			project.addStage(stage);
			project.setActiveStage(stage);

			// CAMERA
			var simpleCamera = new SimpleCamera(sce);
			simpleCamera.setView(Constants.VIEW_TYPES.TOP);
			simpleCamera.setVelocity(1.0);
			sce.setDimensions(512, 512);
			
			// GRID
			//var grid = new Grid(sce);
			//grid.generate(100.0, 1.0);


			// GRAPH NEURONAL NETWORK
            var OFFSET = 1000.0;
            var offs = OFFSET/10;

            var graph = new Graph(sce);
            graph.enableNeuronalNetwork();
            graph.setOffset(OFFSET);

            var mesh_point = new Mesh().loadPoint();
            //graph.setNodeMesh(mesh_point);


            graph.setFontsImage("../../SCEJS/Prefabs/Graph/fonts.png");


            graph.addNeuron("color"); // efferent neuron (actuator)
            graph.addNeuron("realTemp"); // afferent neuron (sensor)
            graph.addNeuron("month"); // afferent neuron
            graph.addSinapsis("realTemp", "color");
            graph.addSinapsis("month", "color");
            graph.updateNodes();
            graph.updateLinks();

            graph.setAfferentData({"realTemp": 0.1, "month": 1.0}); // update Efferent Neurons status according to actual afferent data & link weights
            graph.setEfferentData({"color": 1.0}); // update links weights (train) from Efferents Neurons according to actual afferent data

			//*********
			// RENDER STAGE
			//*********
			project.getActiveStage().render();


			window.onresize = (function() {
				//sce.setDimensions(512, 128);
		    }).bind(this);
		</script>
		
		T for top view<br />
		Alt+LeftMouse for Orbit<br />
		Alt+MiddleMouse for Pan<br />		
		P for perspective view<br />
		WASD for to move<br />
	</body>
</html>
